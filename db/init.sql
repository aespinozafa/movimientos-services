/*
 Navicat Premium Data Transfer

 Source Server         : xxx
 Source Server Type    : PostgreSQL
 Source Server Version : 160003 (160003)
 Source Host           : localhost:5432
 Source Catalog        : PRUEBA
 Source Schema         : public

 Target Server Type    : PostgreSQL
 Target Server Version : 160003 (160003)
 File Encoding         : 65001

 Date: 12/08/2024 01:25:38
*/

CREATE DATABASE PRUEBA;
-- ----------------------------
-- Sequence structure for cliente_id_seq
-- ----------------------------
DROP SEQUENCE IF EXISTS "public"."cliente_id_seq";
CREATE SEQUENCE "public"."cliente_id_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 2147483647
START 1
CACHE 1;

-- ----------------------------
-- Sequence structure for cuenta_id_seq
-- ----------------------------
DROP SEQUENCE IF EXISTS "public"."cuenta_id_seq";
CREATE SEQUENCE "public"."cuenta_id_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 2147483647
START 1
CACHE 1;

-- ----------------------------
-- Sequence structure for movimiento_id_seq
-- ----------------------------
DROP SEQUENCE IF EXISTS "public"."movimiento_id_seq";
CREATE SEQUENCE "public"."movimiento_id_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 2147483647
START 1
CACHE 1;

-- ----------------------------
-- Sequence structure for persona_id_seq
-- ----------------------------
DROP SEQUENCE IF EXISTS "public"."persona_id_seq";
CREATE SEQUENCE "public"."persona_id_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 2147483647
START 1
CACHE 1;

-- ----------------------------
-- Table structure for cliente
-- ----------------------------
DROP TABLE IF EXISTS "public"."cliente";
CREATE TABLE "public"."cliente" (
  "id" int4 NOT NULL GENERATED BY DEFAULT AS IDENTITY (
INCREMENT 1
MINVALUE  1
MAXVALUE 2147483647
START 1
CACHE 1
),
  "persona_id" int4,
  "contrasena" varchar(255) COLLATE "pg_catalog"."default",
  "estado" bool DEFAULT true
)
;

-- ----------------------------
-- Records of cliente
-- ----------------------------
INSERT INTO "public"."cliente" VALUES (12, 6, '$2a$10$PWoozvrMuud0DWufdDHKmOMVepkaYdOSUnfzNgoUzCmfTNuJi3dDe', 't');
INSERT INTO "public"."cliente" VALUES (13, 7, '$2a$10$keHSwUM83ET4wLB74bbkkexNVWzJjvR.Fex4lrOvKzQt/MhvtBeAK', 't');
INSERT INTO "public"."cliente" VALUES (14, 8, '$2a$10$Bm9m.DAkMqxuiQXB6psERu7fwytKtPmqExdcpW/MxMEfEDceOZbYG', 't');

-- ----------------------------
-- Table structure for cuenta
-- ----------------------------
DROP TABLE IF EXISTS "public"."cuenta";
CREATE TABLE "public"."cuenta" (
  "id" int4 NOT NULL GENERATED BY DEFAULT AS IDENTITY (
INCREMENT 1
MINVALUE  1
MAXVALUE 2147483647
START 1
CACHE 1
),
  "numero" varchar(255) COLLATE "pg_catalog"."default",
  "tipo" varchar(255) COLLATE "pg_catalog"."default",
  "saldo_inicial" numeric(10,2),
  "estado" bool DEFAULT true,
  "cliente_id" int4
)
;

-- ----------------------------
-- Records of cuenta
-- ----------------------------
INSERT INTO "public"."cuenta" VALUES (2, '478758', 'Ahorro', 2000.00, 't', 12);
INSERT INTO "public"."cuenta" VALUES (3, '225487', 'Corriente', 100.00, 't', 13);
INSERT INTO "public"."cuenta" VALUES (4, '495878', 'Ahorros', 0.00, 't', 14);
INSERT INTO "public"."cuenta" VALUES (5, '496825', 'Ahorros', 540.00, 't', 13);
INSERT INTO "public"."cuenta" VALUES (6, '585545', 'Corriente', 1000.00, 't', 12);

-- ----------------------------
-- Table structure for movimiento
-- ----------------------------
DROP TABLE IF EXISTS "public"."movimiento";
CREATE TABLE "public"."movimiento" (
  "id" int4 NOT NULL GENERATED BY DEFAULT AS IDENTITY (
INCREMENT 1
MINVALUE  1
MAXVALUE 2147483647
START 1
CACHE 1
),
  "fecha" date,
  "tipo" varchar(255) COLLATE "pg_catalog"."default",
  "valor" numeric(10,2),
  "saldo" numeric(10,2),
  "estado" bool DEFAULT true,
  "cuenta_id" int4
)
;

-- ----------------------------
-- Records of movimiento
-- ----------------------------
INSERT INTO "public"."movimiento" VALUES (33, '2024-08-11', 'Retiro', -575.00, 1425.00, 't', 2);
INSERT INTO "public"."movimiento" VALUES (34, '2024-08-11', 'Deposito', 600.00, 700.00, 't', 3);
INSERT INTO "public"."movimiento" VALUES (35, '2024-08-11', 'Deposito', 150.00, 150.00, 't', 4);
INSERT INTO "public"."movimiento" VALUES (36, '2024-08-11', 'Retiro', -540.00, 0.00, 't', 5);

-- ----------------------------
-- Table structure for persona
-- ----------------------------
DROP TABLE IF EXISTS "public"."persona";
CREATE TABLE "public"."persona" (
  "id" int4 NOT NULL GENERATED BY DEFAULT AS IDENTITY (
INCREMENT 1
MINVALUE  1
MAXVALUE 2147483647
START 1
CACHE 1
),
  "nombre" varchar(255) COLLATE "pg_catalog"."default",
  "genero" varchar(255) COLLATE "pg_catalog"."default",
  "edad" int4 DEFAULT 0,
  "identificacion" varchar(10) COLLATE "pg_catalog"."default",
  "direccion" varchar(255) COLLATE "pg_catalog"."default",
  "telefono" varchar(10) COLLATE "pg_catalog"."default",
  "estado" bool DEFAULT true
)
;

-- ----------------------------
-- Records of persona
-- ----------------------------
INSERT INTO "public"."persona" VALUES (6, 'Jose Lema', NULL, 0, '123456789', 'Otavalo sn y principal', '098254785', 't');
INSERT INTO "public"."persona" VALUES (7, 'Marianela Montalvo', NULL, 0, '123456780', 'Amazonas y NNUU', '097548965', 't');
INSERT INTO "public"."persona" VALUES (8, 'Juan Osorio', NULL, NULL, '123456782', '13 junio y Equinoccial', '098874587', 't');

-- ----------------------------
-- Alter sequences owned by
-- ----------------------------
ALTER SEQUENCE "public"."cliente_id_seq"
OWNED BY "public"."cliente"."id";
SELECT setval('"public"."cliente_id_seq"', 23, true);

-- ----------------------------
-- Alter sequences owned by
-- ----------------------------
ALTER SEQUENCE "public"."cuenta_id_seq"
OWNED BY "public"."cuenta"."id";
SELECT setval('"public"."cuenta_id_seq"', 6, true);

-- ----------------------------
-- Alter sequences owned by
-- ----------------------------
ALTER SEQUENCE "public"."movimiento_id_seq"
OWNED BY "public"."movimiento"."id";
SELECT setval('"public"."movimiento_id_seq"', 36, true);

-- ----------------------------
-- Alter sequences owned by
-- ----------------------------
ALTER SEQUENCE "public"."persona_id_seq"
OWNED BY "public"."persona"."id";
SELECT setval('"public"."persona_id_seq"', 17, true);

-- ----------------------------
-- Auto increment value for cliente
-- ----------------------------
SELECT setval('"public"."cliente_id_seq"', 23, true);

-- ----------------------------
-- Primary Key structure for table cliente
-- ----------------------------
ALTER TABLE "public"."cliente" ADD CONSTRAINT "cliente_pkey" PRIMARY KEY ("id");

-- ----------------------------
-- Auto increment value for cuenta
-- ----------------------------
SELECT setval('"public"."cuenta_id_seq"', 6, true);

-- ----------------------------
-- Primary Key structure for table cuenta
-- ----------------------------
ALTER TABLE "public"."cuenta" ADD CONSTRAINT "cuenta_pkey" PRIMARY KEY ("id");

-- ----------------------------
-- Auto increment value for movimiento
-- ----------------------------
SELECT setval('"public"."movimiento_id_seq"', 36, true);

-- ----------------------------
-- Primary Key structure for table movimiento
-- ----------------------------
ALTER TABLE "public"."movimiento" ADD CONSTRAINT "movimiento_pkey" PRIMARY KEY ("id");

-- ----------------------------
-- Auto increment value for persona
-- ----------------------------
SELECT setval('"public"."persona_id_seq"', 17, true);

-- ----------------------------
-- Primary Key structure for table persona
-- ----------------------------
ALTER TABLE "public"."persona" ADD CONSTRAINT "persona_pkey" PRIMARY KEY ("id");

-- ----------------------------
-- Foreign Keys structure for table cliente
-- ----------------------------
ALTER TABLE "public"."cliente" ADD CONSTRAINT "fk_persona_id" FOREIGN KEY ("persona_id") REFERENCES "public"."persona" ("id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table cuenta
-- ----------------------------
ALTER TABLE "public"."cuenta" ADD CONSTRAINT "fk_cliente_id" FOREIGN KEY ("cliente_id") REFERENCES "public"."cliente" ("id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table movimiento
-- ----------------------------
ALTER TABLE "public"."movimiento" ADD CONSTRAINT "fk_cuenta_id" FOREIGN KEY ("cuenta_id") REFERENCES "public"."cuenta" ("id") ON DELETE NO ACTION ON UPDATE NO ACTION;
